# player king constraints

-- player king rank must be in the computer third's rank
if playerHasWhite then expectedRank = Rank6 else expectedRank = Rank3
isRightRank = rank == expectedRank

-- file must not be in a rook column
fileInRightColumn = (file >= FileB) and (file <= FileG)

return isRightRank and fileInRightColumn

@@@@@@

# computer king constraints

-- computer king must be the player's eight rank
if playerHasWhite then expectedRank = Rank8 else expectedRank = Rank1
return rank == expectedRank

@@@@@@

# kings mutual constraints

return playerKingFile == computerKingFile

@@@@@@

# other pieces counts

player pawn : 1

@@@@@@

# other pieces global constraints

[player pawn]

-- pawn must be on the player's fifth rank
if playerHasWhite then expectedRank = Rank5 else expectedRank = Rank4
isRightRank = rank == expectedRank
isRightFile = file == playerKingFile

return isRightFile and isRightRank

@@@@@@

# goal

win